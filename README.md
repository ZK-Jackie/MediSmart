# ğŸ¥ MediSmart - æ™ºèƒ½åŒ»ç–—çŸ¥è¯†å›¾è°±ç³»ç»Ÿ

<div align="center">

[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-2.7.6-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![Vue.js](https://img.shields.io/badge/Vue.js-3.x-green.svg)](https://vuejs.org/)
[![Python](https://img.shields.io/badge/Python-3.11-blue.svg)](https://www.python.org/)
[![Neo4j](https://img.shields.io/badge/Neo4j-5.26.5-008CC1.svg)](https://neo4j.com/)
[![License](https://img.shields.io/badge/license-MIT-orange.svg)](LICENSE)

**ä¸€ä¸ªåŸºäºçŸ¥è¯†å›¾è°±å’Œå¤§è¯­è¨€æ¨¡å‹çš„æ™ºèƒ½åŒ»ç–—é—®ç­”ç³»ç»Ÿ**

[åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)

</div>

---

## ğŸ“– é¡¹ç›®ç®€ä»‹

MediSmart æ˜¯ä¸€ä¸ªé›†æˆäº†**çŸ¥è¯†å›¾è°±**ã€**å¤§è¯­è¨€æ¨¡å‹**å’Œ**æ™ºèƒ½é—®ç­”**çš„åŒ»ç–—å¥åº·ç®¡ç†ç³»ç»Ÿã€‚ç³»ç»Ÿé€šè¿‡Neo4jå›¾æ•°æ®åº“å­˜å‚¨åŒ»ç–—çŸ¥è¯†ï¼Œç»“åˆLangChainå’ŒOpenAI GPTæ¨¡å‹ï¼Œä¸ºç”¨æˆ·æä¾›ä¸“ä¸šã€å‡†ç¡®çš„åŒ»ç–—å¥åº·å’¨è¯¢æœåŠ¡ã€‚

### æ ¸å¿ƒä¼˜åŠ¿

- ğŸ§  **çŸ¥è¯†å›¾è°±é©±åŠ¨** - åŸºäºNeo4jçš„åŒ»ç–—çŸ¥è¯†å›¾è°±ï¼Œæ¶µç›–ç–¾ç—…ã€ç—‡çŠ¶ã€è¯ç‰©ã€æ£€æŸ¥ç­‰å¤šç»´åº¦åŒ»ç–—å®ä½“
- ğŸ’¬ **æ™ºèƒ½å¯¹è¯ç³»ç»Ÿ** - é›†æˆå¤§è¯­è¨€æ¨¡å‹ï¼Œæ”¯æŒæµå¼é—®ç­”å’Œä¸Šä¸‹æ–‡ç†è§£
- ğŸ” **å®‰å…¨å¯é ** - å®Œå–„çš„ç”¨æˆ·è®¤è¯ã€æƒé™ç®¡ç†å’Œæ•°æ®å®‰å…¨æœºåˆ¶
- ğŸ¨ **ç°ä»£åŒ–UI** - Vue3å‰ç«¯æ¡†æ¶ï¼Œå“åº”å¼è®¾è®¡ï¼Œç”¨æˆ·ä½“éªŒä¼˜ç§€
- ğŸ“Š **å¯è§†åŒ–å±•ç¤º** - åŒ»ç–—çŸ¥è¯†å›¾è°±çš„äº¤äº’å¼å¯è§†åŒ–
- ğŸ§ª **å®Œå–„æµ‹è¯•** - 108+å•å…ƒæµ‹è¯•ï¼Œ85%+ä»£ç è¦†ç›–ç‡

---

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### 1ï¸âƒ£ æ™ºèƒ½é—®ç­”ç³»ç»Ÿ
- âœ… AIåŒ»ç–—åŠ©æ‰‹ï¼Œæ”¯æŒè‡ªç„¶è¯­è¨€é—®ç­”
- âœ… æµå¼(SSE)å“åº”ï¼Œå®æ—¶è·å–å›ç­”
- âœ… å¤šè½®å¯¹è¯ï¼Œä¸Šä¸‹æ–‡è®°å¿†
- âœ… ä¼šè¯ç®¡ç†ï¼ˆåˆ›å»ºã€åˆ é™¤ã€æ ‡é¢˜ä¿®æ”¹ï¼‰

### 2ï¸âƒ£ çŸ¥è¯†å›¾è°±ç®¡ç†
- âœ… åŒ»ç–—å®ä½“ç®¡ç†ï¼ˆç–¾ç—…ã€ç—‡çŠ¶ã€è¯ç‰©ç­‰ï¼‰
- âœ… å…³ç³»å›¾è°±å¯è§†åŒ–
- âœ… æ¨¡ç³Š/ç²¾å‡†æœç´¢
- âœ… æ‰¹é‡å¯¼å…¥/å¯¼å‡º
- âœ… èŠ‚ç‚¹CRUDæ“ä½œ

### 3ï¸âƒ£ ç”¨æˆ·ç³»ç»Ÿ
- âœ… ç”¨æˆ·æ³¨å†Œ/ç™»å½•/ç™»å‡º
- âœ… JWTä»¤ç‰Œè®¤è¯
- âœ… éªŒè¯ç éªŒè¯
- âœ… å¯†ç åŠ å¯†å­˜å‚¨
- âœ… è§’è‰²æƒé™ç®¡ç†

### 4ï¸âƒ£ æ•°æ®ç®¡ç†
- âœ… å®æ—¶æ•°æ®åŒæ­¥
- âœ… ç¼“å­˜æœºåˆ¶ï¼ˆRedisï¼‰
- âœ… æ•°æ®å¤‡ä»½ä¸æ¢å¤

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯æŠ€æœ¯
- **æ ¸å¿ƒæ¡†æ¶**: Spring Boot 2.7.6
- **å®‰å…¨æ¡†æ¶**: Spring Security + JWT
- **æŒä¹…å±‚**: MyBatis Plus 3.5.3
- **æ•°æ®åº“**: 
  - MySQL 8.x (ä¸šåŠ¡æ•°æ®)
  - Neo4j 5.26.5 (çŸ¥è¯†å›¾è°±)
  - Redis (ç¼“å­˜)
- **æ„å»ºå·¥å…·**: Maven 3.x
- **Javaç‰ˆæœ¬**: JDK 1.8

### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**: Vue.js 2.6
- **çŠ¶æ€ç®¡ç†**: Vuex
- **è·¯ç”±**: Vue Router
- **HTTPå®¢æˆ·ç«¯**: Axios
- **UIæ¡†æ¶**: Element
- **å›¾è°±å¯è§†åŒ–**: ECharts
- **æ„å»ºå·¥å…·**: Webpack

### AIæœåŠ¡
- **æ¡†æ¶**: FastAPI
- **AIæ¡†æ¶**: LangChain 0.3.x   LangGraph 0.3.x
- **èŠå¤©è®°å½•å­˜å‚¨**: LangChain-Redis
- **å›¾æ•°æ®åº“é›†æˆ**: LangChain-Neo4j
- **æ¨¡å‹**: OpenAI GPT / å…¼å®¹API
- **Pythonç‰ˆæœ¬**: 3.11

### DevOps
- **å®¹å™¨åŒ–**: Docker + Docker Compose
- **WebæœåŠ¡å™¨**: Nginx
- **ç›‘æ§**: Spring Boot Actuator

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Java JDK 1.8+
- Node.js >=14, <=21
- Python 3.11
- Maven 3.6+
- MySQL 8.0+
- Neo4j 5.x
- Redis stack server 6.x, 7.x, Redis 8.x
- Docker & Docker Compose (å¯é€‰)

### ä½¿ç”¨Docker Composeéƒ¨ç½²ï¼ˆæ¨èï¼‰

1. **å…‹éš†é¡¹ç›®**
```bash
git clone https://github.com/your-org/medismart.git
cd medismart
```

2. **é…ç½®ç¯å¢ƒå˜é‡**
```bash
# å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿
cp .env.example .env

# ç¼–è¾‘ç¯å¢ƒå˜é‡
nano .env
```

3. **è‡ªè¡Œä¸‹è½½å¿…å¤‡çš„æ–‡ä»¶**
- neo4j æ’ä»¶
- neo4j æ•°æ®åº“å¤‡ä»½æ–‡ä»¶

4. **å¯åŠ¨æ‰€æœ‰æœåŠ¡**
```bash
docker-compose up -d
```

5. **è®¿é—®åº”ç”¨**
- å‰ç«¯åº”ç”¨: http://localhost:8080
- åç«¯API: http://localhost:8081
- Neo4jæµè§ˆå™¨: http://localhost:7474


### æœ¬åœ°å¼€å‘éƒ¨ç½²

#### 1. æ•°æ®åº“å‡†å¤‡

**MySQLæ•°æ®åº“**
```bash
# åˆ›å»ºæ•°æ®åº“
mysql -u root -p
CREATE DATABASE medismart DEFAULT CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

# å¯¼å…¥è¡¨ç»“æ„
mysql -u root -p medismart < sql/sql.sql
```

**Neo4jå›¾æ•°æ®åº“**
```bash
# å¯åŠ¨Neo4j
neo4j start

# è®¿é—® http://localhost:7474 åˆå§‹åŒ–
# é»˜è®¤ç”¨æˆ·å/å¯†ç : neo4j/password

# å¯¼å…¥æ•°æ®
neo4j-admin database load --overwrite-destination=true --from-path=neo4j/dumps neo4j
```

**Redis**
```bash
# å¯åŠ¨Redis
redis-server
```

#### 2. åç«¯æœåŠ¡

```bash
# ä¿®æ”¹é…ç½®æ–‡ä»¶
nano src/main/resources/application-dev.yml

# ç¼–è¯‘æ‰“åŒ…
mvn clean package -DskipTests

# å¯åŠ¨æœåŠ¡
java -jar target/medismart-0.0.1-SNAPSHOT.jar

# æˆ–ä½¿ç”¨IDEç›´æ¥è¿è¡Œ MediSmartServerApplication
```

#### 3. AIæœåŠ¡

```bash
cd medismart-ai

# åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate

# å®‰è£…ä¾èµ–
pip install -e .

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
nano .env

# å¯åŠ¨æœåŠ¡
python -m app --host
```

#### 4. å‰ç«¯åº”ç”¨

```bash
cd medismart-ui

# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼
npm run serve

# ç”Ÿäº§æ„å»º
npm run build
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
MediSmart/
â”œâ”€â”€ src/                          # åç«¯æºç 
â”‚   â”œâ”€â”€ main/
â”‚   â”‚   â”œâ”€â”€ java/org/superdata/medismart/
â”‚   â”‚   â”‚   â”œâ”€â”€ annotation/       # è‡ªå®šä¹‰æ³¨è§£
â”‚   â”‚   â”‚   â”œâ”€â”€ common/          # å…¬å…±ç±»ï¼ˆå¸¸é‡ã€å¼‚å¸¸ã€å“åº”ï¼‰
â”‚   â”‚   â”‚   â”œâ”€â”€ config/          # é…ç½®ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ controller/      # æ§åˆ¶å™¨å±‚
â”‚   â”‚   â”‚   â”œâ”€â”€ entity/          # å®ä½“ç±»
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ node/        # å›¾æ•°æ®åº“èŠ‚ç‚¹å®ä½“
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ request/     # è¯·æ±‚DTO
â”‚   â”‚   â”‚   â”œâ”€â”€ mapper/          # æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ neo4j/       # Neo4jä»“å‚¨
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ sql/         # MySQLæ˜ å°„å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ security/        # å®‰å…¨æ¡†æ¶
â”‚   â”‚   â”‚   â”œâ”€â”€ service/         # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ impl/        # ä¸šåŠ¡å®ç°
â”‚   â”‚   â”‚   â””â”€â”€ utils/           # å·¥å…·ç±»
â”‚   â”‚   â””â”€â”€ resources/
â”‚   â”‚       â”œâ”€â”€ mapper/          # MyBatis XML
â”‚   â”‚       â””â”€â”€ application.yml  # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ test/                    # æµ‹è¯•ä»£ç ï¼ˆ108+æµ‹è¯•ï¼‰
â”‚       â”œâ”€â”€ java/
â”‚       â”‚   â””â”€â”€ org/superdata/medismart/
â”‚       â”‚       â”œâ”€â”€ base/        # æµ‹è¯•åŸºç±»
â”‚       â”‚       â”œâ”€â”€ controller/  # æ§åˆ¶å™¨æµ‹è¯•
â”‚       â”‚       â”œâ”€â”€ service/     # æœåŠ¡æµ‹è¯•
â”‚       â”‚       â””â”€â”€ utils/       # å·¥å…·æµ‹è¯•
â”‚       â””â”€â”€ resources/
â”‚           â””â”€â”€ application-test.yml
â”œâ”€â”€ medismart-ui/                # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ public/                  # é™æ€èµ„æº
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ api/                # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ assets/             # èµ„æºæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ components/         # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ layout/             # å¸ƒå±€
â”‚   â”‚   â”œâ”€â”€ plugins/            # æ’ä»¶
â”‚   â”‚   â”œâ”€â”€ router/             # è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ store/              # çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ utils/              # å·¥å…·
â”‚   â”‚   â”œâ”€â”€ views/              # è§†å›¾
â”‚   â”‚   â”œâ”€â”€ App.vue             # æ ¹ç»„ä»¶
â”‚   â”‚   â””â”€â”€ main.js             # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ room-client/            # è¿œç¨‹è¯Šç–—å®¢æˆ·ç«¯
â”œâ”€â”€ medismart-ai/                # AIæœåŠ¡
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/                # APIè·¯ç”±
â”‚   â”‚   â”‚   â””â”€â”€ v1/             # v1ç‰ˆæœ¬API
â”‚   â”‚   â”œâ”€â”€ core/               # æ ¸å¿ƒé…ç½®
â”‚   â”‚   â”œâ”€â”€ services/           # æœåŠ¡å±‚
â”‚   â”‚   â”‚   â””â”€â”€ ai/             # AIæœåŠ¡
â”‚   â”‚   â””â”€â”€ tools/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ pyproject.toml          # Pythoné¡¹ç›®é…ç½®
â”‚   â””â”€â”€ __main__.py             # å…¥å£æ–‡ä»¶
â”œâ”€â”€ neo4j/                       # Neo4jæ•°æ®
â”‚   â”œâ”€â”€ data/                   # æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ dumps/                  # æ•°æ®åº“å¤‡ä»½
â”‚   â””â”€â”€ plugins/                # æ’ä»¶
â”œâ”€â”€ neo4j-medismart/            # Neo4jå®‰è£…åŒ…
â”œâ”€â”€ nginx/                       # Nginxé…ç½®
â”‚   â””â”€â”€ conf/
â”‚       â””â”€â”€ medismart.conf      # ç«™ç‚¹é…ç½®
â”œâ”€â”€ sql/                         # SQLè„šæœ¬
â”‚   â””â”€â”€ sql.sql                 # æ•°æ®åº“åˆå§‹åŒ–
â”œâ”€â”€ docker-compose.yaml          # Dockerç¼–æ’æ–‡ä»¶
â”œâ”€â”€ pom.xml                      # Mavené…ç½®
â”œâ”€â”€ README.md                    # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ TEST_SUMMARY.md             # æµ‹è¯•æ€»ç»“
```

---

## ğŸ”§ é…ç½®è¯´æ˜

### åç«¯é…ç½® (application.yml)

```yaml
server:
  port: 8081

spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/medismart?useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: your_password
    
  redis:
    host: localhost
    port: 6379
    database: 0
    
  neo4j:
    uri: bolt://localhost:7687
    authentication:
      username: neo4j
      password: neo4j

# JWTé…ç½®
jwt:
  secret: your-secret-key
  expiration: 216000000  # 60å°æ—¶

# AIæœåŠ¡é…ç½®
chat:
  stream:
    url: http://localhost:8000/chat/stream
  history:
    url: http://localhost:8000/chat/history
```

### AIæœåŠ¡é…ç½®

å‚ç…§ `medismart-ai/.env.example` æ–‡ä»¶ï¼Œåˆ›å»º `.env` æ–‡ä»¶å¹¶ä¿®æ”¹å¯¹åº”å‚æ•°


### å‰ç«¯é…ç½® (vue.config.js)

```javascript
module.exports = {
  devServer: {
    proxy: {
      '/api': {
        target: 'http://localhost:8081',
        changeOrigin: true,
        pathRewrite: {
          '^/api': ''
        }
      }
    }
  }
}
```

---

## â“ å¸¸è§é—®é¢˜

### Q: å¦‚ä½•é‡ç½®Neo4jæ•°æ®åº“ï¼Ÿ
```bash
# åœæ­¢Neo4j
neo4j stop

# åˆ é™¤æ•°æ®
rm -rf data/databases/neo4j
rm -rf data/transactions/neo4j

# é‡æ–°å¯¼å…¥
neo4j-admin database load --overwrite-destination=true --from-path=neo4j/dumps neo4j
```

### Q: å¦‚ä½•ä¿®æ”¹ç«¯å£ï¼Ÿ
ä¿®æ”¹å¯¹åº”é…ç½®æ–‡ä»¶ä¸­çš„ç«¯å£å·ï¼š
- åç«¯: `application.yml` -> `server.port`
- å‰ç«¯: `vue.config.js` -> `devServer.port`
- AIæœåŠ¡: å¯åŠ¨å‘½ä»¤ `--port`å‚æ•°

### Q: å¦‚ä½•æ›´æ¢å¤§æ¨¡å‹APIï¼Ÿ
ä¿®æ”¹ `medismart-ai/.env` æ–‡ä»¶ä¸­çš„ï¼š
```env
OPENAI_API_KEY=your-key
OPENAI_BASE_URL=https://your-api-endpoint
```

---

## ğŸ“œ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶äº†è§£è¯¦æƒ…

---